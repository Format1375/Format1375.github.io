<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ë²ˆí˜¸ ìƒì„± ë° ë‹¹ì²¨ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f3f4f6; }
        .lotto-ball {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s;
        }
        .lotto-ball:hover { transform: scale(1.1); }
        .ball-1 { background: radial-gradient(circle at 30% 30%, #facc15, #ca8a04); } /* 1-10 ë…¸ë‘ */
        .ball-2 { background: radial-gradient(circle at 30% 30%, #60a5fa, #2563eb); } /* 11-20 íŒŒë‘ */
        .ball-3 { background: radial-gradient(circle at 30% 30%, #f87171, #dc2626); } /* 21-30 ë¹¨ê°• */
        .ball-4 { background: radial-gradient(circle at 30% 30%, #9ca3af, #4b5563); } /* 31-40 íšŒìƒ‰ */
        .ball-5 { background: radial-gradient(circle at 30% 30%, #4ade80, #16a34a); } /* 41-45 ì´ˆë¡ */
        .selected { border: 3px solid #1f2937; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto space-y-6">
        <!-- í—¤ë” -->
        <header class="text-center bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
            <h1 class="text-3xl font-bold text-gray-800">ë¡œë˜ 6/45 ì‹œìŠ¤í…œ</h1>
            <p class="text-gray-500 mt-2">í–‰ìš´ì˜ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê±°ë‚˜ ë‹¹ì²¨ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- ë²ˆí˜¸ ìƒì„± ì„¹ì…˜ -->
            <section class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                    <span>ğŸ°</span> ë²ˆí˜¸ ìƒì„±
                </h2>
                
                <div id="generated-numbers" class="flex flex-wrap gap-2 justify-center py-8 bg-gray-50 rounded-xl mb-4 min-h-[100px] items-center">
                    <p class="text-gray-400 italic">ë²„íŠ¼ì„ ëˆŒëŸ¬ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”</p>
                </div>

                <div class="flex gap-2">
                    <button onclick="generateRandomLotto()" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition duration-200 shadow-md">
                        ìë™ ë²ˆí˜¸ ì¶”ì¶œ
                    </button>
                    <button onclick="resetUI()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-xl transition duration-200">
                        ì´ˆê¸°í™”
                    </button>
                </div>
            </section>

            <!-- ë‹¹ì²¨ ì‹œë®¬ë ˆì´í„° -->
            <section class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                    <span>ğŸ†</span> ë‹¹ì²¨ ì‹œë®¬ë ˆì´í„°
                </h2>
                <div class="text-sm text-gray-600 mb-4">
                    í˜„ì¬ ìƒì„±ëœ ë²ˆí˜¸ë¡œ ì´ë²ˆ ì£¼ ê°€ìƒ ë‹¹ì²¨ ë²ˆí˜¸ì™€ ëŒ€ì¡°í•©ë‹ˆë‹¤.
                </div>
                
                <div id="lotto-draw-result" class="hidden">
                    <div class="mb-2 font-semibold text-gray-700">ê¸ˆì£¼ì˜ ê°€ìƒ ë‹¹ì²¨ ë²ˆí˜¸:</div>
                    <div id="draw-balls" class="flex gap-1 mb-4"></div>
                    <div id="match-status" class="p-4 rounded-xl text-center font-bold text-lg"></div>
                </div>

                <button id="draw-btn" onclick="simulateDraw()" class="w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-4 rounded-xl transition duration-200 shadow-md disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>
                    ë‹¹ì²¨ í™•ì¸í•˜ê¸° (ë²ˆí˜¸ ìƒì„± í•„ìš”)
                </button>
            </section>
        </div>

        <!-- ë²ˆí˜¸ ê¸°ë¡ -->
        <section class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
            <h2 class="text-xl font-bold mb-4">ìµœê·¼ ìƒì„± ê¸°ë¡</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="text-gray-500 border-b">
                            <th class="pb-3">ì¼ì‹œ</th>
                            <th class="pb-3 text-center">ë²ˆí˜¸</th>
                            <th class="pb-3 text-right">ê´€ë¦¬</th>
                        </tr>
                    </thead>
                    <tbody id="history-body">
                        <tr>
                            <td colspan="3" class="py-8 text-center text-gray-400">ìƒì„± ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <script>
        let currentNumbers = [];
        let history = [];

        function getBallClass(num) {
            if (num <= 10) return 'ball-1';
            if (num <= 20) return 'ball-2';
            if (num <= 30) return 'ball-3';
            if (num <= 40) return 'ball-4';
            return 'ball-5';
        }

        function generateRandomLotto() {
            let numbers = [];
            while(numbers.length < 6) {
                let r = Math.floor(Math.random() * 45) + 1;
                if(numbers.indexOf(r) === -1) numbers.push(r);
            }
            numbers.sort((a, b) => a - b);
            currentNumbers = numbers;
            renderGeneratedNumbers(numbers);
            addToHistory(numbers);
            
            // ë‹¹ì²¨ í™•ì¸ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('draw-btn').disabled = false;
            document.getElementById('lotto-draw-result').classList.add('hidden');
        }

        function renderGeneratedNumbers(numbers) {
            const container = document.getElementById('generated-numbers');
            container.innerHTML = '';
            numbers.forEach(num => {
                const ball = document.createElement('div');
                ball.className = `lotto-ball ${getBallClass(num)}`;
                ball.innerText = num;
                container.appendChild(ball);
            });
        }

        function addToHistory(numbers) {
            const now = new Date();
            const timeStr = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
            history.unshift({ time: timeStr, nums: [...numbers] });
            if (history.length > 5) history.pop();
            renderHistory();
        }

        function renderHistory() {
            const body = document.getElementById('history-body');
            if (history.length === 0) {
                body.innerHTML = '<tr><td colspan="3" class="py-8 text-center text-gray-400">ìƒì„± ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
                return;
            }
            body.innerHTML = history.map((item, idx) => `
                <tr class="border-b last:border-0 hover:bg-gray-50 transition">
                    <td class="py-3 text-sm text-gray-500">${item.time}</td>
                    <td class="py-3">
                        <div class="flex gap-1 justify-center">
                            ${item.nums.map(n => `<span class="w-6 h-6 rounded-full ${getBallClass(n)} text-[10px] flex items-center justify-center text-white font-bold">${n}</span>`).join('')}
                        </div>
                    </td>
                    <td class="py-3 text-right">
                        <button onclick="removeHistory(${idx})" class="text-red-400 hover:text-red-600 text-sm">ì‚­ì œ</button>
                    </td>
                </tr>
            `).join('');
        }

        function removeHistory(index) {
            history.splice(index, 1);
            renderHistory();
        }

        function resetUI() {
            currentNumbers = [];
            document.getElementById('generated-numbers').innerHTML = '<p class="text-gray-400 italic">ë²„íŠ¼ì„ ëˆŒëŸ¬ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”</p>';
            document.getElementById('draw-btn').disabled = true;
            document.getElementById('lotto-draw-result').classList.add('hidden');
        }

        function simulateDraw() {
            if (currentNumbers.length < 6) return;

            // ë‹¹ì²¨ ë²ˆí˜¸ ì¶”ì²¨ (6ê°œ + ë³´ë„ˆìŠ¤ 1ê°œ)
            let drawNumbers = [];
            while(drawNumbers.length < 7) {
                let r = Math.floor(Math.random() * 45) + 1;
                if(drawNumbers.indexOf(r) === -1) drawNumbers.push(r);
            }
            
            const winningNums = drawNumbers.slice(0, 6).sort((a, b) => a - b);
            const bonusNum = drawNumbers[6];

            // ë Œë”ë§
            const drawContainer = document.getElementById('draw-balls');
            drawContainer.innerHTML = '';
            winningNums.forEach(num => {
                const ball = document.createElement('div');
                ball.className = `lotto-ball ${getBallClass(num)} scale-75`;
                ball.innerText = num;
                drawContainer.appendChild(ball);
            });
            
            const plus = document.createElement('div');
            plus.className = "flex items-center text-gray-400 font-bold px-1";
            plus.innerText = "+";
            drawContainer.appendChild(plus);

            const bonusBall = document.createElement('div');
            bonusBall.className = `lotto-ball ${getBallClass(bonusNum)} scale-75 border-4 border-yellow-200`;
            bonusBall.innerText = bonusNum;
            drawContainer.appendChild(bonusBall);

            // ë§¤ì¹­ ê³„ì‚°
            const matched = currentNumbers.filter(n => winningNums.includes(n));
            const bonusMatched = currentNumbers.includes(bonusNum);
            
            const statusDiv = document.getElementById('match-status');
            let resultText = "";
            let bgColor = "";
            let textColor = "";

            if (matched.length === 6) {
                resultText = "ğŸ‰ 1ë“± ë‹¹ì²¨! (6ê°œ ì¼ì¹˜)";
                bgColor = "bg-yellow-100";
                textColor = "text-yellow-700";
            } else if (matched.length === 5 && bonusMatched) {
                resultText = "ğŸŠ 2ë“± ë‹¹ì²¨! (5ê°œ + ë³´ë„ˆìŠ¤ ì¼ì¹˜)";
                bgColor = "bg-orange-100";
                textColor = "text-orange-700";
            } else if (matched.length === 5) {
                resultText = "ğŸˆ 3ë“± ë‹¹ì²¨! (5ê°œ ì¼ì¹˜)";
                bgColor = "bg-blue-100";
                textColor = "text-blue-700";
            } else if (matched.length === 4) {
                resultText = "âœ… 4ë“± ë‹¹ì²¨! (4ê°œ ì¼ì¹˜)";
                bgColor = "bg-green-100";
                textColor = "text-green-700";
            } else if (matched.length === 3) {
                resultText = "ğŸ¥‰ 5ë“± ë‹¹ì²¨! (3ê°œ ì¼ì¹˜)";
                bgColor = "bg-gray-100";
                textColor = "text-gray-700";
            } else {
                resultText = `ë‚™ì²¨ (${matched.length}ê°œ ì¼ì¹˜)`;
                bgColor = "bg-red-50";
                textColor = "text-red-500";
            }

            statusDiv.innerText = resultText;
            statusDiv.className = `p-4 rounded-xl text-center font-bold text-lg ${bgColor} ${textColor}`;
            
            document.getElementById('lotto-draw-result').classList.remove('hidden');
        }
    </script>
</body>
</html>

